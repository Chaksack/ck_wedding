import{e as y,c as d,o as r,f as _,a as e,g as f,h as i,v as n,r as p,i as w,j as g,k as P,t as h,_ as b,p as j,u as V,b as S}from"./BNHaeiXe.js";const k={class:"row"},W={class:"field"},x={class:"field"},U={class:"field"},G={class:"field"},R={class:"field"},M={class:"field"},$={class:"field"},B={class:"radios"},F={class:"radio"},T={class:"radio"},A={class:"field"},C=["disabled"],D={key:0},I={key:1},L={key:0,class:"success"},E={key:1,class:"error"},H=y({__name:"RsvpForm",setup(N){const a=p({firstName:"",lastName:"",email:"",phone:"",additionalGuests:0,dietaryNotes:"",joinPreWedding:null,message:""}),l=p(!1),u=p(!1),m=p(null),v=P(()=>{const o=a.value;return o.firstName.trim().length>0&&o.lastName.trim().length>0&&o.email.trim().length>0&&o.joinPreWedding!==null&&!l.value});async function c(){if(m.value=null,u.value=!1,!v.value){m.value="Please fill in the required fields.";return}l.value=!0;try{await $fetch("/api/rsvp",{method:"POST",body:{...a.value,firstName:a.value.firstName.trim(),lastName:a.value.lastName.trim(),email:a.value.email.trim()}}),u.value=!0,a.value={firstName:"",lastName:"",email:"",phone:"",additionalGuests:0,dietaryNotes:"",joinPreWedding:null,message:""}}catch(o){m.value=o?.data?.statusMessage||o?.data?.message||o?.message||"Something went wrong. Please try again."}finally{l.value=!1}}return(o,s)=>(r(),d("form",{class:"form",onSubmit:_(c,["prevent"])},[e("div",k,[e("div",W,[s[9]||(s[9]=e("label",{for:"firstName"},"First Name *",-1)),i(e("input",{id:"firstName","onUpdate:modelValue":s[0]||(s[0]=t=>a.value.firstName=t),class:"input",autocomplete:"given-name"},null,512),[[n,a.value.firstName]])]),e("div",x,[s[10]||(s[10]=e("label",{for:"lastName"},"Last Name *",-1)),i(e("input",{id:"lastName","onUpdate:modelValue":s[1]||(s[1]=t=>a.value.lastName=t),class:"input",autocomplete:"family-name"},null,512),[[n,a.value.lastName]])])]),e("div",U,[s[11]||(s[11]=e("label",{for:"email"},"Email *",-1)),i(e("input",{id:"email","onUpdate:modelValue":s[2]||(s[2]=t=>a.value.email=t),class:"input",type:"email",autocomplete:"email"},null,512),[[n,a.value.email]])]),e("div",G,[s[12]||(s[12]=e("label",{for:"phone"},"Phone (optional)",-1)),i(e("input",{id:"phone","onUpdate:modelValue":s[3]||(s[3]=t=>a.value.phone=t),class:"input",type:"tel",autocomplete:"tel"},null,512),[[n,a.value.phone]])]),e("div",R,[s[14]||(s[14]=e("label",{for:"additionalGuests"},"How many more guest will attend?",-1)),i(e("select",{id:"additionalGuests","onUpdate:modelValue":s[4]||(s[4]=t=>a.value.additionalGuests=t),class:"select"},[...s[13]||(s[13]=[e("option",{value:0},"0",-1),e("option",{value:1},"1",-1),e("option",{value:2},"2",-1),e("option",{value:3},"3",-1),e("option",{value:4},"4",-1)])],512),[[w,a.value.additionalGuests,void 0,{number:!0}]])]),e("div",M,[s[15]||(s[15]=e("label",{for:"dietaryNotes"},"Do you have any allergies or dietary preferences we should be aware of?",-1)),i(e("textarea",{id:"dietaryNotes","onUpdate:modelValue":s[5]||(s[5]=t=>a.value.dietaryNotes=t),class:"textarea"},null,512),[[n,a.value.dietaryNotes]])]),e("fieldset",$,[s[18]||(s[18]=e("legend",null,"Will you be able to join us for the Pre-Wedding Gathering on September 26? *",-1)),e("div",B,[e("label",F,[i(e("input",{"onUpdate:modelValue":s[6]||(s[6]=t=>a.value.joinPreWedding=t),type:"radio",value:!0},null,512),[[g,a.value.joinPreWedding]]),s[16]||(s[16]=e("span",null,"Yes. Count me in!",-1))]),e("label",T,[i(e("input",{"onUpdate:modelValue":s[7]||(s[7]=t=>a.value.joinPreWedding=t),type:"radio",value:!1},null,512),[[g,a.value.joinPreWedding]]),s[17]||(s[17]=e("span",null,"No. I will join the main celebration only.",-1))])])]),e("div",A,[s[19]||(s[19]=e("label",{for:"message"},"Leave us a message or a wish for our big day!",-1)),i(e("textarea",{id:"message","onUpdate:modelValue":s[8]||(s[8]=t=>a.value.message=t),class:"textarea"},null,512),[[n,a.value.message]])]),e("button",{class:"btn",type:"submit",disabled:!v.value},[l.value?(r(),d("span",D,"Submitting…")):(r(),d("span",I,"Submit"))],8,C),u.value?(r(),d("p",L,"Thanks! We’ve received your RSVP.")):f("",!0),m.value?(r(),d("p",E,h(m.value),1)):f("",!0),s[20]||(s[20]=e("p",{class:"small"},"We’ll only use this info for wedding planning.",-1))],32))}}),O=Object.assign(b(H,[["__scopeId","data-v-2d7e5e75"]]),{__name:"RsvpForm"}),q=j("/images/rsvp.jpg"),z={class:"section"},Y={class:"container"},J={class:"wrap"},K={class:"card panel"},Q=y({__name:"rsvp",setup(N){return V({title:"RSVP — Noah & Sabrina"}),(a,l)=>{const u=O;return r(),d("div",z,[e("div",Y,[e("div",J,[l[3]||(l[3]=e("div",{class:"photo card"},[e("img",{class:"img",src:q,alt:"A groom carries a bride across a sunny field.",width:"900",height:"1200",loading:"lazy"})],-1)),e("div",K,[l[0]||(l[0]=e("div",{class:"kicker"},"Book your spot. See you soon!",-1)),l[1]||(l[1]=e("h1",{class:"h2"},"Pre-Wedding Gathering",-1)),l[2]||(l[2]=e("p",{class:"copy"}," This is a laid-back opportunity for everyone to mingle and catch up before the main event. All guests who have arrived in Barcelona are welcome to join us and enjoy a charming evening in the city! ",-1)),S(u)])])])])}}}),Z=b(Q,[["__scopeId","data-v-384acd8c"]]);export{Z as default};
